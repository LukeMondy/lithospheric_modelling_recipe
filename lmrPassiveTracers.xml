<?xml version="1.0" encoding="UTF-8"?>
<StGermainData xmlns="http://www.vpac.org/StGermain/XML_IO_Handler/Jun2003">
    
    <struct name="components" mergeType="merge">  
    
        <!-- === Passive Tracer geometries ==================================================== -->
        
        <struct name="surfaceTracerLayout">
            <!-- Generates a line of passive tracers across the surface -->
            <param name="Type">LineParticleLayout</param>
            <param name="totalInitialParticles">201</param> <!-- 1 tracer per kilometre -->
            <list name="vertices">
                <asciidata>
                    <columnDefinition name = "x" type="double" units="km"/>
                    <columnDefinition name = "y" type="double" units="km"/>
                    0   0 
                    200 0
                </asciidata>
            </list>
        </struct>
        
        <struct name="mohoTracerLayout">               
            <param name="Type">LineParticleLayout</param>
            <param name="totalInitialParticles">201</param>
            <list name="vertices">
                <asciidata>
                    <columnDefinition name = "x" type="double" units="km"/>
                    <columnDefinition name = "y" type="double" units="km"/>
                    0   -40
                    200 -40
                </asciidata>
            </list>
        </struct>
        
        <struct name="passiveTracerLayout">
            <param name="Type">UnionParticleLayout</param>
            <list name="ParticleLayoutList">
                <param>surfaceTracerLayout</param>	
                <param>mohoTracerLayout</param>
            </list>
        </struct>
        <!-- ==================================================================================== -->
        
        
        
        <!-- === Numerical implementation ======================================================= -->
        <struct name="passiveSwarmMovementHandler">
            <param name="Type">ParticleMovementHandler</param>
        </struct>
        <struct name="ElementCellLayoutTracer">
            <param name="Type">ElementCellLayout</param>
            <param name="Mesh">linearMesh</param>
        </struct>
        <struct name="passiveTracerSwarm">
            <param name="Type">MaterialPointsSwarm</param>
            <param name="CellLayout">ElementCellLayoutTracer</param>
            <param name="ParticleLayout">passiveTracerLayout</param>
            <param name="FiniteElement_Mesh">linearMesh</param>
            <param name="FeMesh">elementMesh</param>
            <list name="ParticleCommHandlers">
                <param>passiveSwarmMovementHandler</param>
            </list>
        </struct>
        
        <struct name="passiveTracerAdvect">
            <param name="Type">SwarmAdvector</param>
            <param name="Swarm">passiveTracerSwarm</param>
            <param name="TimeIntegrator">timeIntegrator</param>
            <param name="VelocityField">VelocityField</param>
        </struct>
        <!-- ==================================================================================== -->
        
        
        
        <!-- === Output controls ================================================================ -->        
        <!-- NOTE: "Output controls" must come *after* the "Numerical implementation" XML -->
        <struct name="passiveTracer_PTSROutput">
            <!-- Generates 1 file per tracer. Each file contains the timesteps
                 and data for just that one tracer. -->
            <param name="Type">PressureTemperatureStrainRateOutput</param>
            <param name="Swarm">passiveTracerSwarm</param>
            <param name="PressureField">recoveredPressureField</param>
            <param name="TemperatureField">TemperatureField</param>
            <param name="StrainRateField">recoveredStrainRateInvariantField</param>
            <param name="columnWidth">15</param>
            <param name="decimalLength">8</param>
            <param name="borderString">|</param>
        </struct>
        
        <struct name="swarmRawOutputs">
            <!-- Generates 1 file per timestep. Each file contains the data for
                 all particles for that one timestep. -->
            <param name="Type">Underworld_SwarmOutput</param>
            <param name="Swarm">passiveTracerSwarm</param>
            <list name="FeVariables">
                <param>recoveredStressField</param>
                <param>recoveredDeviatoricStressField</param>
                <param>recoveredStrainRateField</param>
                <param>VorticityField</param>
            </list>
        </struct>
        <!-- ==================================================================================== -->
        
    </struct>
    
    
</StGermainData>